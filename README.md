
# Survival Games Development Tools

This pack contains tools to be used in combination with the [Core datapack](https://github.com/QuillmarkMC/sgcore) for creating vanilla-friendly Survival Games maps. Made by Quillmark.

### Technical Overview

All of the data related to loot chests is saved in data storage. This means that the data can be easily read from or edited in-game (as opposed to being hardcoded in a function). Most of the tools in this datapack are related to creating or modifying this chest data, such as spawn positions, spawn probability, or loot quality. 

## Placing or modifying chests

> /trigger sgdev.items

Replaces your hotbar with a set of custom items for editing the chest data in the world. These items have custom textures that are included in the map-specific resource pack.
- **Common Chest**: Places a common chest
- **Uncommon Chest**: Places an uncommon chest
- **Rare Chest**: Places a rare chest
- **Epic Chest**: Places an epic chest
- **Cornucopia Chest**: Places a cornucopia chest
- **Modify Chest Rarity**: Used in combination with the `/trigger sgdev.spawn_chance` command
- **Anvil**: Places an anvil
- **Delete Chest**: Removes a chest/anvil


> /trigger sgdev.spawn_chance set <1-100>

Sets a per-player score that controls the spawn chance of specific chests, used in combination with the Modify Chest Rarity item. After running the command, interacting with a chest while holding the Modify Chest Rarity item will set that chest's spawn chance to the value used in the command.
- Example: Player runs the command `/trigger sgdev.spawn_chance set 50`, then uses the Modify Chest Rarity item on a chest. That chest now has a 50% chance to spawn per round. If you want to set multiple chests to the same spawn chance, you only need to run the command once and then you can use the modify item on each chest.

> /trigger sgdev.toggle_chest_place

Toggle on/off per-player whether using the chest placement items will also place a chest block at the location. This has no effect on gameplay, as chests are dynamically placed or removed per round based on spawn chance. It is only for aesthetics during development/testing.

> /trigger sgdev.glow

Globally toggles on/off whether chests should glow. The glow color is determined by the loot quality. While glowing, chests will also display their spawn chance as a decimal between 0 and 1 (0.5 --> 50%). In order to reduce lag this command does not process every chest at once, please be patient and wait for execution to finish!

> /trigger sgdev.stats

Displays the current distribution of chests on the map.

## Loot

> /trigger sgdev.loot

Fills your inventory with items generated by the specified loot tables, used in combination with the supporting commands below:
- `/scoreboard players set @s sgdev.common <number>` specifies the number of common chests to generate
- `/scoreboard players set @s sgdev.uncommon <number>` specifies the number of uncommon chests to generate
- `/scoreboard players set @s sgdev.rare <number>` specifies the number of rare chests to generate
- `/scoreboard players set @s sgdev.epic <number>` specifies the number of epic chests to generate
- `/scoreboard players set @s sgdev.cornucopia <number>` specifies the number of cornucopia chests to generate
```
~~EXAMPLE~~

/scoreboard players set @s sgdev.common 5
/scoreboard players set @s sgdev.uncommon 0
/scoreboard players set @s sgdev.rare 1
/scoreboard players set @s sgdev.epic 1
/scoreboard players set @s sgdev.cornucopia 2
/trigger sgdev.loot

Player's inventory will be cleared, then filled with random loot generated from 5 common, 0 uncommon, 1 rare, 1 epic, and 2 cornucopia chests.
``` 

>## **Disclaimer**: The information described in this document is primarily targeted at users who wish to modify the data in an existing Quillmark survival games map. 